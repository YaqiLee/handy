(this.webpackJsonphandy=this.webpackJsonphandy||[]).push([[1],{275:function(e,t,n){e.exports=n(625)},281:function(e,t,n){var a={"./ion-action-sheet.entry.js":[627,5],"./ion-alert.entry.js":[628,6],"./ion-app_8.entry.js":[629,7],"./ion-avatar_3.entry.js":[630,18],"./ion-back-button.entry.js":[631,19],"./ion-backdrop.entry.js":[632,43],"./ion-button_2.entry.js":[633,20],"./ion-card_5.entry.js":[634,21],"./ion-checkbox.entry.js":[635,22],"./ion-chip.entry.js":[636,23],"./ion-col_3.entry.js":[637,44],"./ion-datetime_3.entry.js":[638,10],"./ion-fab_3.entry.js":[639,24],"./ion-img.entry.js":[640,45],"./ion-infinite-scroll_2.entry.js":[641,46],"./ion-input.entry.js":[642,25],"./ion-item-option_3.entry.js":[643,26],"./ion-item_8.entry.js":[644,27],"./ion-loading.entry.js":[645,28],"./ion-menu_3.entry.js":[646,29],"./ion-modal.entry.js":[647,8],"./ion-nav_2.entry.js":[648,15],"./ion-popover.entry.js":[649,9],"./ion-progress-bar.entry.js":[650,30],"./ion-radio_2.entry.js":[651,31],"./ion-range.entry.js":[652,32],"./ion-refresher_2.entry.js":[653,11],"./ion-reorder_2.entry.js":[654,17],"./ion-ripple-effect.entry.js":[655,47],"./ion-route_4.entry.js":[656,33],"./ion-searchbar.entry.js":[657,34],"./ion-segment_2.entry.js":[658,35],"./ion-select_3.entry.js":[659,36],"./ion-slide_2.entry.js":[660,48],"./ion-spinner.entry.js":[661,13],"./ion-split-pane.entry.js":[662,49],"./ion-tab-bar_2.entry.js":[663,37],"./ion-tab_2.entry.js":[664,16],"./ion-text.entry.js":[665,38],"./ion-textarea.entry.js":[666,39],"./ion-toast.entry.js":[667,40],"./ion-toggle.entry.js":[668,12],"./ion-virtual-scroll.entry.js":[669,50]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=281,e.exports=r},283:function(e,t,n){var a={"./ion-icon.entry.js":[673,57]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=283,e.exports=r},314:function(e,t,n){},619:function(e,t,n){},620:function(e,t,n){},621:function(e,t,n){},622:function(e,t,n){},623:function(e,t,n){},624:function(e,t,n){},625:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(100),l=n.n(o),c=n(2),i=n(274),u=(n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(20)),s=n(47),m=n(40),E=n(11),d=n(12),f=n(9),h=n(14),p=n(15),y=n(70),b=n.n(y);b.a.defaults.baseURL="http://101.200.167.196:4400/api/",b.a.defaults.timeout=2e4;var j=function(e,t){return b.a.get(e,{params:t}).then((function(e){return e.data}))},g=function(e,t){return b.a.put(e,t)},v=function(e){return j("/goods/",{bought:e})},O=function(e){return function(e,t){return b.a.post(e,t).then((function(e){return e.data}))}("/goods/",e)},k=function(e){return t="/goods/".concat(e),b.a.delete(t);var t},_=(n(314),function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).state={name:"",price:"",order:0},a.handleSubmit=a.handleSubmit.bind(Object(f.a)(a)),console.log(a.props),a}return Object(d.a)(n,[{key:"handleSubmit",value:function(){var e=this;O(this.state).then((function(t){e.props.history.push("/tab1/3")}))}},{key:"handleChange",value:function(e,t){this.setState(Object(m.a)({},t,e.target.value))}},{key:"render",value:function(){var e=this;return r.a.createElement(c.v,null,r.a.createElement(c.j,null,r.a.createElement(c.G,null,r.a.createElement(c.E,null,"\u6dfb\u52a0\u9884\u8d2d\u5546\u54c1"))),r.a.createElement(c.f,null,r.a.createElement(c.r,null,r.a.createElement(c.m,null,r.a.createElement(c.q,{position:"stacked"},"\u540d\u79f0"),r.a.createElement(c.l,{value:this.state.name,onIonChange:function(t){return e.handleChange(t,"name")}})),r.a.createElement(c.m,null,r.a.createElement(c.q,{position:"stacked"},"\u4ef7\u683c"),r.a.createElement(c.l,{value:this.state.price,onIonChange:function(t){return e.handleChange(t,"price")},type:"number"}))),r.a.createElement(c.c,{className:"footer-btn",expand:"full",onClick:this.handleSubmit},"\u786e\u8ba4\u6dfb\u52a0")))}}]),n}(r.a.Component)),C=Object(s.e)(_),w=n(126),x=n(53),q=n(271),S=n.n(q),D=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"getOption",value:function(){return{tooltip:{},xAxis:{data:["\u5df2\u8d2d\u603b\u989d","\u9884\u8d2d\u603b\u989d"]},grid:{width:"100%"},yAxis:{},series:[{name:"\u91d1\u989d",type:"bar",data:[this.summary.buy.price,this.summary.bought.price]}]}}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.t,{isOpen:this.props.isVisible,cssClass:"my-custom-class",swipeToClose:!0,onDidDismiss:function(){return e.props.toggle(!1)}},r.a.createElement(c.j,null,r.a.createElement(c.G,null,r.a.createElement(c.d,{slot:"primary"},r.a.createElement(c.c,{color:"secondary",onClick:function(){return e.props.toggle(!1)}},r.a.createElement(c.k,{slot:"icon-only",ios:u.h,md:u.h}))),r.a.createElement(c.E,null,"\u9884\u8d2d\u6e05\u5355\u7edf\u8ba1"))),r.a.createElement(c.f,null,r.a.createElement(c.m,null,r.a.createElement(c.q,null,"\u9884\u8d2d\u6570\u91cf"),r.a.createElement(c.b,{slot:"end"},this.summary.buy.count)),r.a.createElement(c.m,null,r.a.createElement(c.q,null,"\u9884\u8d2d\u603b\u989d"),r.a.createElement(c.b,{slot:"end"},"\uffe5",this.summary.buy.price)),r.a.createElement(c.m,null,r.a.createElement(c.q,null,"\u5df2\u8d2d\u6570\u91cf"),r.a.createElement(c.b,{color:"success",slot:"end"},this.summary.bought.count)),r.a.createElement(c.m,null,r.a.createElement(c.q,null,"\u5df2\u8d2d\u603b\u989d"),r.a.createElement(c.b,{color:"success",slot:"end"},"\uffe5",this.summary.bought.price)),r.a.createElement("div",{style:{padding:"0 16px"}},r.a.createElement(S.a,{option:this.getOption()})))))}},{key:"summary",get:function(){return this.props.summary}}]),n}(r.a.Component),F=(n(619),n(620),function(){return r.a.createElement("div",{className:"container"},r.a.createElement("p",null,"\u8fd9\u91cc\u4ec0\u4e48\u4e5f\u6ca1\u6709"))}),G=Object(s.e)((function(e){var t=Object(a.useState)(!0),n=Object(x.a)(t,2),o=n[0],l=n[1],i=Object(a.useState)([]),u=Object(x.a)(i,2),s=u[0],m=u[1],E=Object(a.useState)(!1),d=Object(x.a)(E,2),f=d[0],h=d[1],p=Object(a.useState)(!1),y=Object(x.a)(p,2),b=y[0],O=y[1],_=Object(a.useState)(""),C=Object(x.a)(_,2),q=C[0],S=C[1],G=Object(a.useState)({buy:{},bought:{}}),I=Object(x.a)(G,2),L=I[0],N=I[1],z=function(e){h(e)},U=function(e){(function(e){return g("/goods",e)})({id:e.id,bought:1}).then((function(e){0===e.data.affected?S("\u672a\u66f4\u65b0\u6210\u529f"):(S("\u5df2\u52a0\u5165\u5df2\u8d2d"),A()),O(!0)}))},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;v(e).then((function(e){return m(e)}))},B=function(){j("/goods/count").then((function(e){return N(e)}))},P=Object(c.P)();Object(a.useEffect)((function(){A()}),[P.routeInfo.id]);var T=function(e){!function(e){g("/goods/batch",e)}(function(e,t,n){for(var a=Object(w.a)(e),r=[],o=t;o<n;o++){var l=a[o];a[o+1].order=a[o+1].order-1,a[o]=a[o+1],a[o+1]=l,r.push(a[o]),o===n-1&&(a[o+1].order=a[o].order+1,r.push(a[o+1]))}return r}(s,e.detail.from,e.detail.to)),e.detail.complete(),l(!0)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.s,null,s.length>0&&r.a.createElement(c.e,{outline:!0,color:"tertiary",onClick:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!o;l(e)}()}},r.a.createElement(c.q,null,o?"\u8c03\u6574\u987a\u5e8f":"\u6392\u5e8f\u7ed3\u675f")),r.a.createElement(c.e,{outline:!0,color:"primary"},r.a.createElement(c.q,null,r.a.createElement(c.z,{routerLink:"/tab2"},"\u5df2\u8d2d\u5546\u54c1"))),r.a.createElement(c.e,{outline:!0,color:"primary"},r.a.createElement(c.q,null,r.a.createElement(c.z,{routerLink:"/goods/create"},"\u65b0\u589e\u9884\u8d2d"))),r.a.createElement(c.e,{outline:!0,color:"primary",onClick:function(){return B(),void z(!0)}},r.a.createElement(c.q,null,"\u6570\u636e\u7edf\u8ba1"))),r.a.createElement(D,{isVisible:f,toggle:z,summary:L}),r.a.createElement(c.F,{isOpen:b,color:"primary",onDidDismiss:function(){return O(!1)},message:q,duration:200}),s.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(c.x,{disabled:o,onIonItemReorder:T},s.map((function(e,t){return e&&r.a.createElement(c.w,{key:t},r.a.createElement(c.p,null,r.a.createElement(c.m,{routerLink:"/tab2"},r.a.createElement(c.q,null,e.name),r.a.createElement(c.u,{color:(n=e.price,n>0&&n<100?"primary":n>=100&&n<500?"warning":n>=500?"danger":"dark"),slot:"end"},e.price,"\u5143")),r.a.createElement(c.o,{side:"end"},r.a.createElement(c.n,{color:"danger",onClick:function(){return function(e){k(e.id).then((function(t){m(s.filter((function(t){return t.id!==e.id})))}))}(e)}},"\u5220\u9664"),r.a.createElement(c.n,{color:"success",onClick:function(){return U(e)}},"\u5df2\u8d2d"))));var n})))):r.a.createElement(F,null))})),I=(n(621),Object(s.e)((function(e){return r.a.createElement(c.v,null,r.a.createElement(c.j,null,r.a.createElement(c.G,null,r.a.createElement(c.E,null,"\u6b32\u8d2d\u6e05\u5355"))),r.a.createElement(c.f,{fullscreen:!0},r.a.createElement(c.j,{collapse:"condense"},r.a.createElement(c.G,null,r.a.createElement(c.E,{size:"large"},"\u6b32\u8d2d\u6e05\u5355"))),r.a.createElement(G,null)),r.a.createElement(c.g,{hidden:!0,vertical:"bottom",horizontal:"end"},r.a.createElement(c.h,null,r.a.createElement(c.k,{icon:u.g})),r.a.createElement(c.i,{side:"top"},r.a.createElement(c.h,null,r.a.createElement(c.k,{icon:u.a,onClick:function(){return e.history.push("/goods/create")}})),r.a.createElement(c.h,null,r.a.createElement(c.k,{icon:u.r})))))}))),L=(n(622),function(){return r.a.createElement(c.r,null)}),N=(n(623),function(){return r.a.createElement(c.v,null,r.a.createElement(c.j,null,r.a.createElement(c.G,null,r.a.createElement(c.E,null,"\u5f85\u529e\u4e8b\u9879"))),r.a.createElement(c.f,{fullscreen:!0},r.a.createElement(c.j,{collapse:"condense"},r.a.createElement(c.G,null,r.a.createElement(c.E,{size:"large"},"\u5f85\u529e\u4e8b\u9879"))),r.a.createElement(L,null)))}),z=(n(624),function(){return r.a.createElement(c.a,null,r.a.createElement(i.a,null,r.a.createElement(c.D,null,r.a.createElement(c.A,null,r.a.createElement(s.b,{path:"/goods/create",component:C,exact:!0}),r.a.createElement(s.b,{path:"/tab1/:id",component:I,exact:!0}),r.a.createElement(s.b,{path:"/tab2",component:N,exact:!0}),r.a.createElement(s.b,{path:"/",render:function(){return r.a.createElement(s.a,{to:"/tab1/1"})},exact:!0})),r.a.createElement(c.B,{slot:"bottom"},r.a.createElement(c.C,{tab:"tab1",href:"/tab1/1"},r.a.createElement(c.k,{icon:u.c}),r.a.createElement(c.q,null,"\u6b32\u8d2d\u6e05\u5355")),r.a.createElement(c.C,{tab:"tab2",href:"/tab2"},r.a.createElement(c.k,{icon:u.k}),r.a.createElement(c.q,null,"\u5f85\u529e\u4e8b\u9879"))))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[275,3,4]]]);
//# sourceMappingURL=main.5f5047a6.chunk.js.map